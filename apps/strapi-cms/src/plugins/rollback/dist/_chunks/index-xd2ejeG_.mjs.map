{"version":3,"file":"index-xd2ejeG_.mjs","sources":["../../admin/src/pluginId.ts","../../admin/src/components/Initializer.tsx","../../admin/src/components/PluginIcon.tsx","../../admin/src/permissions.ts","../../admin/src/index.ts"],"sourcesContent":["export const PLUGIN_ID = 'rollback';\n","import { useEffect, useRef } from 'react';\n\nimport { PLUGIN_ID } from '../pluginId';\n\ntype InitializerProps = {\n  setPlugin: (id: string) => void;\n};\n\nconst Initializer = ({ setPlugin }: InitializerProps) => {\n  const ref = useRef(setPlugin);\n\n  useEffect(() => {\n    ref.current(PLUGIN_ID);\n  }, []);\n\n  return null;\n};\n\nexport { Initializer };\n","import { Clock } from '@strapi/icons';\n\nconst PluginIcon = () => <Clock />;\n\nexport { PluginIcon };\n","import { PLUGIN_ID } from './pluginId';\n\nconst pluginPermissions = {\n  access: [\n    {\n      action: `plugin::${PLUGIN_ID}.access`,\n      subject: null,\n    },\n  ],\n  trigger: [\n    {\n      action: `plugin::${PLUGIN_ID}.trigger`,\n      subject: null,\n    },\n  ],\n};\n\nexport default pluginPermissions;\n","import { getTranslation } from './utils/getTranslation';\nimport { PLUGIN_ID } from './pluginId';\nimport { Initializer } from './components/Initializer';\nimport { PluginIcon } from './components/PluginIcon';\nimport pluginPermissions from './permissions';\n\nexport default {\n  register(app: any) {\n    app.addMenuLink({\n      to: `plugins/${PLUGIN_ID}`,\n      icon: PluginIcon,\n      permissions: pluginPermissions.access,\n      intlLabel: {\n        id: `${PLUGIN_ID}.plugin.name`,\n        defaultMessage: PLUGIN_ID,\n      },\n      Component: async () => {\n        const { App } = await import('./pages/App');\n\n        return App;\n      },\n    });\n\n    app.registerPlugin({\n      id: PLUGIN_ID,\n      initializer: Initializer,\n      isReady: false,\n      name: PLUGIN_ID,\n    });\n  },\n\n  async registerTrads({ locales }: { locales: string[] }) {\n    return Promise.all(\n      locales.map(async (locale) => {\n        try {\n          const { default: data } = await import(`./translations/${locale}.json`);\n\n          return { data, locale };\n        } catch {\n          return { data: {}, locale };\n        }\n      })\n    );\n  },\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAO,MAAM,YAAY;ACQzB,MAAM,cAAc,CAAC,EAAE,gBAAkC;AACjD,QAAA,MAAM,OAAO,SAAS;AAE5B,YAAU,MAAM;AACd,QAAI,QAAQ,SAAS;AAAA,EACvB,GAAG,EAAE;AAEE,SAAA;AACT;ACdA,MAAM,aAAa,MAAM,oBAAC,OAAM,EAAA;ACAhC,MAAM,oBAAoB;AAAA,EACxB,QAAQ;AAAA,IACN;AAAA,MACE,QAAQ,WAAW,SAAS;AAAA,MAC5B,SAAS;AAAA,IAAA;AAAA,EAEb;AAAA,EACA,SAAS;AAAA,IACP;AAAA,MACE,QAAQ,WAAW,SAAS;AAAA,MAC5B,SAAS;AAAA,IAAA;AAAA,EACX;AAEJ;ACTA,MAAe,QAAA;AAAA,EACb,SAAS,KAAU;AACjB,QAAI,YAAY;AAAA,MACd,IAAI,WAAW,SAAS;AAAA,MACxB,MAAM;AAAA,MACN,aAAa,kBAAkB;AAAA,MAC/B,WAAW;AAAA,QACT,IAAI,GAAG,SAAS;AAAA,QAChB,gBAAgB;AAAA,MAClB;AAAA,MACA,WAAW,YAAY;AACrB,cAAM,EAAE,IAAA,IAAQ,MAAM,OAAO,oBAAa;AAEnC,eAAA;AAAA,MAAA;AAAA,IACT,CACD;AAED,QAAI,eAAe;AAAA,MACjB,IAAI;AAAA,MACJ,aAAa;AAAA,MACb,SAAS;AAAA,MACT,MAAM;AAAA,IAAA,CACP;AAAA,EACH;AAAA,EAEA,MAAM,cAAc,EAAE,WAAkC;AACtD,WAAO,QAAQ;AAAA,MACb,QAAQ,IAAI,OAAO,WAAW;AACxB,YAAA;AACF,gBAAM,EAAE,SAAS,SAAS,MAAM,qCAAA,uBAAA,OAAA,EAAA,0BAAA,MAAA,OAAA,mBAAA,EAAA,CAAA,GAAA,kBAAA,MAAA,SAAA,CAAA;AAEzB,iBAAA,EAAE,MAAM,OAAO;AAAA,QAAA,QAChB;AACN,iBAAO,EAAE,MAAM,CAAC,GAAG,OAAO;AAAA,QAAA;AAAA,MAE7B,CAAA;AAAA,IACH;AAAA,EAAA;AAEJ;"}